<?xml version="1.0"?>

<flight_control name="FCS">

  <channel name="Pitch">

    <aerosurface_scale name="pitch-trim-cmd-deg">
      <input>fcs/pitch-trim-cmd-norm</input>
      <range>
        <min> -5 </min>
        <max>  4 </max>
      </range>
    </aerosurface_scale>

    <actuator name="pitch-trim-act">
      <input>fcs/pitch-trim-cmd-deg</input>
      <clipto>
         <min> -5 </min>
         <max>  4 </max>
      </clipto>
    </actuator>

    <aerosurface_scale name="elevator-cmd-deg">
      <input>fcs/elevator-cmd-norm</input>
      <range>
        <min> -20 </min>
        <max>  17 </max>
      </range>
    </aerosurface_scale>

    <actuator name="elevator-act">
      <input>fcs/elevator-cmd-deg</input>
      <clipto>
        <min> -20 </min>
        <max>  17 </max>
      </clipto>
    </actuator>

    <summer name="elevator-pos-deg">
      <input>fcs/pitch-trim-act</input>
      <input>fcs/elevator-act</input>
      <clipto>
        <min> -20 </min>
        <max>  17 </max>
      </clipto>
    </summer>

    <aerosurface_scale name="elevator-pos-norm">
      <input>fcs/elevator-pos-deg</input>
      <domain>
        <min> -20 </min>
        <max>  17 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
    </aerosurface_scale>

  </channel>


  <channel name="Roll">

    <aerosurface_scale name="roll-trim-cmd-deg">
      <input>fcs/roll-trim-cmd-norm</input>
      <range>
        <min> -5 </min>
        <max>  5 </max>
      </range>
    </aerosurface_scale>

    <actuator name="roll-trim-act">
      <input>fcs/roll-trim-cmd-deg</input>
      <clipto>
         <min> -5 </min>
         <max>  5 </max>
      </clipto>
    </actuator>

    <aerosurface_scale name="aileron-cmd-unlimited-deg">
      <input>fcs/aileron-cmd-norm</input>
      <range>
        <min> -20 </min>
        <max>  20 </max>
      </range>
    </aerosurface_scale>

    <scheduled_gain name="aileron-cmd-deg">
      <input>fcs/aileron-cmd-unlimited-deg</input>
      <table>
        <independentVar>gear/gear-pos-norm</independentVar>
        <tableData>
          0 0.5
          1 1
        </tableData>
      </table>
    </scheduled_gain>

  <!--left aileron-->

    <actuator name="left-aileron-act">
      <input>fcs/aileron-cmd-deg</input>
      <clipto>
        <min> -20 </min>
        <max>  20 </max>
      </clipto>
    </actuator>

    <summer name="left-aileron-pos-deg">
      <input>fcs/roll-trim-act</input>
      <input>fcs/left-aileron-act</input>
      <clipto>
        <min> -20 </min>
        <max>  20 </max>
      </clipto>
    </summer>

    <aerosurface_scale name="left-aileron-pos-norm">
      <input>fcs/left-aileron-pos-deg</input>
      <domain>
        <min> -20 </min>
        <max>  20 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
    </aerosurface_scale>

  <!--right aileron-->

    <actuator name="right-aileron-act">
      <input>fcs/aileron-cmd-deg</input>
      <clipto>
        <min> -20 </min>
        <max>  20 </max>
      </clipto>
    </actuator>

    <summer name="right-aileron-pos-deg">
      <input>fcs/roll-trim-act</input>
      <input>fcs/right-aileron-act</input>
      <clipto>
        <min> -20 </min>
        <max>  20 </max>
      </clipto>
    </summer>

    <aerosurface_scale name="right-aileron-pos-norm">
      <input>fcs/right-aileron-pos-deg</input>
      <domain>
        <min> -20 </min>
        <max>  20 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
    </aerosurface_scale>

  </channel>


  <channel name="Yaw">

    <aerosurface_scale name="yaw-trim-cmd-deg">
      <input>fcs/yaw-trim-cmd-norm</input>
      <range>
        <min> -6 </min>
        <max>  6 </max>
      </range>
    </aerosurface_scale>

    <actuator name="yaw-trim-act">
      <input>fcs/yaw-trim-cmd-deg</input>
      <clipto>
         <min> -6 </min>
         <max>  6 </max>
      </clipto>
    </actuator>

<!--yaw damper-->

   <scheduled_gain name="Yaw Damper Rate">
      <input>velocities/r-aero-rad_sec</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
         <tableData>
            30     0.00
            60     2.00
         </tableData>
      </table>
   </scheduled_gain>

   <scheduled_gain name="Yaw Damper Beta">
      <input>aero/beta-rad</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
        <tableData>
           30     0.00
           60     0.00
        </tableData>
      </table>
   </scheduled_gain>

   <summer name="Yaw Damper Sum">
      <input>fcs/yaw-damper-beta</input>
      <input>fcs/yaw-damper-rate</input>
      <clipto>
        <min> -0.1 </min>
        <max>  0.1 </max>
      </clipto>
   </summer>

   <scheduled_gain name="Yaw Damper Final">
      <input>fcs/yaw-damper-sum</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
        <tableData>
           30         0.0
           31         1.0
        </tableData>
      </table>
   </scheduled_gain>

<!--rudder-->
    <summer name="rudder-sum">
      <input>fcs/rudder-cmd-norm</input>
      <input>fcs/yaw-damper-final</input>
    </summer>

    <aerosurface_scale name="rudder-cmd-unlimited-deg">
      <input>fcs/rudder-sum</input>
      <range>
        <min> -20 </min>
        <max>  20 </max>
      </range>
    </aerosurface_scale>

    <scheduled_gain name="rudder-cmd-deg">
      <input>fcs/rudder-cmd-unlimited-deg</input>
      <table>
        <independentVar>gear/gear-pos-norm</independentVar>
        <tableData>
          0 0.3
          1 1
        </tableData>
      </table>
    </scheduled_gain>

    <actuator name="rudder-act">
      <input>fcs/rudder-cmd-deg</input>
      <clipto>
        <min> -20 </min>
        <max>  20 </max>
      </clipto>
    </actuator>

    <summer name="rudder-pos-deg">
      <input>fcs/yaw-trim-act</input>
      <input>fcs/rudder-act</input>
      <clipto>
        <min> -20 </min>
        <max>  20 </max>
      </clipto>
    </summer>

    <aerosurface_scale name="rudder-pos-norm">
       <input>fcs/rudder-pos-deg</input>
       <domain>
         <min> -20 </min>
         <max>  20 </max>
       </domain>
       <range>
         <min>-1</min>
         <max> 1</max>
       </range>
    </aerosurface_scale>

  </channel>

</flight_control>